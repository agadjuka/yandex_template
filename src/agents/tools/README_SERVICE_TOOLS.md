# Инструменты для работы с каталогом услуг

## Описание

Два инструмента для работы с каталогом услуг:
- `GetCategories` - получение списка всех категорий услуг
- `GetServices` - получение списка услуг указанной категории

## Использование

### GetCategories

Простой вызов без параметров. Возвращает список всех категорий с их ID.

**Пример использования:**
```
Агент вызывает: GetCategories()
Результат:
Доступные категории услуг:

1. Маникюр
2. Педикюр
3. Услуги для мужчин
...
```

### GetServices

Требует указания ID категории. Возвращает все услуги этой категории.

**Пример использования:**
```
Агент вызывает: GetServices(category_id="1")
Результат:
Услуги категории 'Маникюр':

  • МАНИКЮР+ПОКРЫТИЕ ГЕЛЬ-ЛАК - 2600 руб. (Мастер)
  • МАНИКЮР+УКРЕПЛЕНИЕ - 3000 руб. (Мастер)
  ...
```

## Настройка источника данных

### Чтение из файла проекта (по умолчанию)

Файл `services.json` должен находиться в корне проекта.

**Переменные окружения (опционально):**
```env
SERVICES_DATA_SOURCE=file
SERVICES_FILE_PATH=services.json
```

### Чтение из Object Storage

Для использования облачного хранилища:

**Переменные окружения:**
```env
SERVICES_DATA_SOURCE=storage
YC_BUCKET_NAME=your-bucket-name
SERVICES_STORAGE_PATH=services.json
YC_ACCESS_KEY_ID=your_access_key
YC_SECRET_ACCESS_KEY=your_secret_key
```

**Установка зависимостей:**
```bash
pip install boto3
```

## Структура файла services.json

```json
{
  "1": {
    "category_name": "Маникюр",
    "has_master_levels": true,
    "services": [
      {
        "id": 16659735,
        "name": "МАНИКЮР+ПОКРЫТИЕ ГЕЛЬ-ЛАК",
        "prices": "2600",
        "master_level": "Мастер"
      }
    ]
  }
}
```

## Кэширование

Данные автоматически кэшируются после первой загрузки для повышения производительности. 
Для принудительной перезагрузки данных (например, после обновления файла) используйте:

```python
from src.agents.tools.services_data_loader import _data_loader
_data_loader.reload()
```

